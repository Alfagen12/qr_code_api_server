# üîç Advanced QR Code Scanner API

–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π REST API —Å–µ—Ä–≤–µ—Ä –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è QR –∫–æ–¥–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π.

## üöÄ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã**: OpenCV + pyzbar –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏
- **–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞**: CLAHE, –∞–¥–∞–ø—Ç–∏–≤–Ω–∞—è –±–∏–Ω–∞—Ä–∏–∑–∞—Ü–∏—è, –º–æ—Ä—Ñ–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- **–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã**: –¥–ª—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π —ç–∫—Ä–∞–Ω–æ–≤, —Ä–∞–∑–º—ã—Ç—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, —Å–ª–æ–∂–Ω—ã—Ö —É–≥–ª–æ–≤
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ—Ä—Ä–µ–∫—Ü–∏—è**: –ø–æ–≤–æ—Ä–æ—Ç, –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ, –∫–æ—Ä—Ä–µ–∫—Ü–∏—è –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤—ã
- **–£–¥–∞–ª–µ–Ω–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤**: –±–ª–∏–∫–∏, —à—É–º, –Ω–∏–∑–∫–∏–π –∫–æ–Ω—Ç—Ä–∞—Å—Ç
- **–î–µ—Ç–∞–ª—å–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞**: —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- **Web-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: —É–¥–æ–±–Ω–∞—è –¥–µ–º–æ-—Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## üìã API Endpoints

| Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ |
|----------|----------|------------|
| `POST /scan` | –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ | –û–±—ã—á–Ω—ã–µ QR –∫–æ–¥—ã —Ö–æ—Ä–æ—à–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞ |
| `POST /scan-simple` | –ë—ã—Å—Ç—Ä–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç QR –∫–æ–¥–∞ |
| `POST /scan-advanced` | –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ | –°–ª–æ–∂–Ω—ã–µ —Å–ª—É—á–∞–∏ —Å –æ—Ç–ª–∞–¥–æ—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π |
| `POST /scan-extreme` | –≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ —É—Å–∏–ª–∏—è –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è |
| `POST /scan-screen-photo` | –§–æ—Ç–æ —ç–∫—Ä–∞–Ω–æ–≤ | –°–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è —Å–Ω–∏–º–∫–æ–≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–≤/—ç–∫—Ä–∞–Ω–æ–≤ |
| `GET /health` | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–∏—Å–∞ |
| `GET /demo.html` | Web-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å | –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ |

## üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.8+
- pip

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone https://github.com/Alfagen12/qr_code_api_server.git
cd qr_code_api_server

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
python main_advanced.py
```

### Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
docker build -t qr-scanner-api .

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker run -p 8000:8000 qr-scanner-api
```

### Docker Compose

```bash
docker-compose up
```

## üìñ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### Web-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: http://localhost:8000/demo.html

### API Documentation

Swagger UI: http://localhost:8000/docs

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

#### Python

```python
import requests

# –ü—Ä–æ—Å—Ç–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
with open('qr_image.jpg', 'rb') as f:
    response = requests.post(
        'http://localhost:8000/scan-simple',
        files={'file': f}
    )
    result = response.json()
    print(result['result'])

# –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
with open('difficult_qr.jpg', 'rb') as f:
    response = requests.post(
        'http://localhost:8000/scan-advanced',
        files={'file': f}
    )
    data = response.json()
    print(f"–£—Å–ø–µ—Ö: {data['success']}")
    print(f"–î–∞–Ω–Ω—ã–µ: {data['data']}")
    print(f"–ú–µ—Ç–æ–¥: {data['processing_info']['best_method']}")
```

#### cURL

```bash
# –ë—ã—Å—Ç—Ä–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
curl -X POST "http://localhost:8000/scan-simple" \
     -F "file=@qr_image.jpg"

# –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ç–æ —ç–∫—Ä–∞–Ω–∞
curl -X POST "http://localhost:8000/scan-screen-photo" \
     -F "file=@terminal_photo.jpg"
```

#### JavaScript

```javascript
const formData = new FormData();
formData.append('file', fileInput.files[0]);

fetch('http://localhost:8000/scan-advanced', {
    method: 'POST',
    body: formData
})
.then(response => response.json())
.then(data => {
    if (data.success) {
        console.log('QR –∫–æ–¥:', data.data);
        console.log('–ú–µ—Ç–æ–¥:', data.processing_info.best_method);
    }
});
```

## üéØ –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ —ç–∫—Ä–∞–Ω–æ–≤

Endpoint `/scan-screen-photo` –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è:
- –£–¥–∞–ª–µ–Ω–∏—è –±–ª–∏–∫–æ–≤ —Å —ç–∫—Ä–∞–Ω–æ–≤
- –ö–æ—Ä—Ä–µ–∫—Ü–∏–∏ –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤—ã
- –†–∞–±–æ—Ç—ã —Å —Ç–µ–º–Ω—ã–º–∏ —ç–∫—Ä–∞–Ω–∞–º–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∏ —Å–Ω–∏–º–∫–æ–≤ –ø–æ–¥ —É–≥–ª–æ–º

### –≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

Endpoint `/scan-extreme` –ø—Ä–∏–º–µ–Ω—è–µ—Ç:
- 50+ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –æ–±—Ä–∞–±–æ—Ç–∫–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞/—è—Ä–∫–æ—Å—Ç–∏
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –û—Ç–ª–∞–¥–∫–∞

–í—Å–µ —Å–ª–æ–∂–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –ø–∞–ø–∫–∏:
- `extreme_debug/` - —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
- `screen_debug/` - —Ñ–æ—Ç–æ —ç–∫—Ä–∞–Ω–æ–≤

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –ü–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 8000)
export PORT=8000

# –•–æ—Å—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 0.0.0.0)
export HOST=0.0.0.0

# –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
export LOG_LEVEL=INFO
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Docker

```yaml
# docker-compose.yml
version: '3.8'
services:
  qr-scanner:
    build: .
    ports:
      - "8000:8000"
    environment:
      - LOG_LEVEL=INFO
    volumes:
      - ./debug:/app/debug  # –î–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –æ—Ç–ª–∞–¥–æ—á–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
```

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

| –¢–∏–ø –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è | –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ | –¢–æ—á–Ω–æ—Å—Ç—å |
|----------------|----------------|----------|
| –ü—Ä–æ—Å—Ç–æ–π QR | ~0.1—Å | 99%+ |
| –†–∞–∑–º—ã—Ç—ã–π QR | ~0.5—Å | 95%+ |
| –§–æ—Ç–æ —ç–∫—Ä–∞–Ω–∞ | ~1-2—Å | 90%+ |
| –≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–æ–µ | ~3-5—Å | 85%+ |

## üõ° –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–∏–ø–æ–≤ —Ñ–∞–π–ª–æ–≤
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –∑–∞–≥—Ä—É–∂–∞–µ–º—ã—Ö —Ñ–∞–π–ª–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
python -m pytest tests/

# –¢–µ—Å—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
python stress_test.py

# –ü—Ä–æ–≤–µ—Ä–∫–∞ endpoints
python test_endpoints.py
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
qr_code_api_server/
‚îú‚îÄ‚îÄ main_advanced.py          # –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä API
‚îú‚îÄ‚îÄ demo.html                 # Web-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îú‚îÄ‚îÄ requirements.txt          # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ Dockerfile               # Docker –æ–±—Ä–∞–∑
‚îú‚îÄ‚îÄ docker-compose.yml       # Docker Compose
‚îú‚îÄ‚îÄ test_endpoints.py        # –¢–µ—Å—Ç—ã API
‚îú‚îÄ‚îÄ stress_test.py          # –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îú‚îÄ‚îÄ extreme_qr_scanner.py   # –ê–≤—Ç–æ–Ω–æ–º–Ω—ã–π —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–π —Å–∫–∞–Ω–µ—Ä
‚îî‚îÄ‚îÄ README.md               # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### Heroku

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
heroku create your-qr-scanner-api

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ buildpack –¥–ª—è Python
heroku buildpacks:set heroku/python

# –î–µ–ø–ª–æ–π
git push heroku main
```

### AWS Lambda

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Mangum –¥–ª—è –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ FastAPI:

```python
from mangum import Mangum
from main_advanced import app

handler = Mangum(app)
```

## ü§ù –£—á–∞—Å—Ç–∏–µ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

1. Fork —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞–π—Ç–µ feature branch (`git checkout -b feature/amazing-feature`)
3. Commit –∏–∑–º–µ–Ω–µ–Ω–∏—è (`git commit -m 'Add amazing feature'`)
4. Push –≤ branch (`git push origin feature/amazing-feature`)
5. –°–æ–∑–¥–∞–π—Ç–µ Pull Request

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–º. —Ñ–∞–π–ª [LICENSE](LICENSE)

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

- [OpenCV](https://opencv.org/) - –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–µ –∑—Ä–µ–Ω–∏–µ
- [pyzbar](https://github.com/NaturalHistoryMuseum/pyzbar) - –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ —à—Ç—Ä–∏—Ö-–∫–æ–¥–æ–≤
- [FastAPI](https://fastapi.tiangolo.com/) - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- [PIL/Pillow](https://pillow.readthedocs.io/) - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- GitHub Issues: [–°–æ–∑–¥–∞—Ç—å issue](https://github.com/Alfagen12/qr_code_api_server/issues)
- Email: support@example.com

## üîÑ –ò—Å—Ç–æ—Ä–∏—è –≤–µ—Ä—Å–∏–π

### v2.0.0 (2025-01-29)
- ‚ú® –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ç–æ —ç–∫—Ä–∞–Ω–æ–≤
- ‚ú® –≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏
- ‚ú® Web-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- üîß –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ—Ä—Ä–µ–∫—Ü–∏—è –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤—ã
- üîß –£–¥–∞–ª–µ–Ω–∏–µ –±–ª–∏–∫–æ–≤ –∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤

### v1.0.0
- üéâ –ü–µ—Ä–≤—ã–π —Ä–µ–ª–∏–∑
- ‚ú® –ë–∞–∑–æ–≤–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ QR –∫–æ–¥–æ–≤
- ‚ú® REST API
- üìñ Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

**‚≠ê –ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –≤–∞–º –ø–æ–º–æ–≥, –ø–æ—Å—Ç–∞–≤—å—Ç–µ –∑–≤–µ–∑–¥–æ—á–∫—É –Ω–∞ GitHub!**
